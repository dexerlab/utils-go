// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package query

import (
	"context"
	"database/sql"

	"gorm.io/gorm"

	"gorm.io/gen"

	"gorm.io/plugin/dbresolver"
)

var (
	Q                    = new(Query)
	TChainInfo           *tChainInfo
	TDex                 *tDex
	TDexPool             *tDexPool
	TEventProcessedBlock *tEventProcessedBlock
	TFamousToken         *tFamousToken
	TGappedBlock         *tGappedBlock
	TKv                  *tKv
	TLaunchpad           *tLaunchpad
	TNodeInfo            *tNodeInfo
	TObjectTag           *tObjectTag
	TPool                *tPool
	TPoolStatic          *tPoolStatic
	TTag                 *tTag
	TToken               *tToken
	TTokenInfo           *tTokenInfo
	TTokenStale          *tTokenStale
	TTokenStatic         *tTokenStatic
	TTransfer            *tTransfer
	TUserAccount         *tUserAccount
	TUserAddress         *tUserAddress
)

func SetDefault(db *gorm.DB, opts ...gen.DOOption) {
	*Q = *Use(db, opts...)
	TChainInfo = &Q.TChainInfo
	TDex = &Q.TDex
	TDexPool = &Q.TDexPool
	TEventProcessedBlock = &Q.TEventProcessedBlock
	TFamousToken = &Q.TFamousToken
	TGappedBlock = &Q.TGappedBlock
	TKv = &Q.TKv
	TLaunchpad = &Q.TLaunchpad
	TNodeInfo = &Q.TNodeInfo
	TObjectTag = &Q.TObjectTag
	TPool = &Q.TPool
	TPoolStatic = &Q.TPoolStatic
	TTag = &Q.TTag
	TToken = &Q.TToken
	TTokenInfo = &Q.TTokenInfo
	TTokenStale = &Q.TTokenStale
	TTokenStatic = &Q.TTokenStatic
	TTransfer = &Q.TTransfer
	TUserAccount = &Q.TUserAccount
	TUserAddress = &Q.TUserAddress
}

func Use(db *gorm.DB, opts ...gen.DOOption) *Query {
	return &Query{
		db:                   db,
		TChainInfo:           newTChainInfo(db, opts...),
		TDex:                 newTDex(db, opts...),
		TDexPool:             newTDexPool(db, opts...),
		TEventProcessedBlock: newTEventProcessedBlock(db, opts...),
		TFamousToken:         newTFamousToken(db, opts...),
		TGappedBlock:         newTGappedBlock(db, opts...),
		TKv:                  newTKv(db, opts...),
		TLaunchpad:           newTLaunchpad(db, opts...),
		TNodeInfo:            newTNodeInfo(db, opts...),
		TObjectTag:           newTObjectTag(db, opts...),
		TPool:                newTPool(db, opts...),
		TPoolStatic:          newTPoolStatic(db, opts...),
		TTag:                 newTTag(db, opts...),
		TToken:               newTToken(db, opts...),
		TTokenInfo:           newTTokenInfo(db, opts...),
		TTokenStale:          newTTokenStale(db, opts...),
		TTokenStatic:         newTTokenStatic(db, opts...),
		TTransfer:            newTTransfer(db, opts...),
		TUserAccount:         newTUserAccount(db, opts...),
		TUserAddress:         newTUserAddress(db, opts...),
	}
}

type Query struct {
	db *gorm.DB

	TChainInfo           tChainInfo
	TDex                 tDex
	TDexPool             tDexPool
	TEventProcessedBlock tEventProcessedBlock
	TFamousToken         tFamousToken
	TGappedBlock         tGappedBlock
	TKv                  tKv
	TLaunchpad           tLaunchpad
	TNodeInfo            tNodeInfo
	TObjectTag           tObjectTag
	TPool                tPool
	TPoolStatic          tPoolStatic
	TTag                 tTag
	TToken               tToken
	TTokenInfo           tTokenInfo
	TTokenStale          tTokenStale
	TTokenStatic         tTokenStatic
	TTransfer            tTransfer
	TUserAccount         tUserAccount
	TUserAddress         tUserAddress
}

func (q *Query) Available() bool { return q.db != nil }

func (q *Query) clone(db *gorm.DB) *Query {
	return &Query{
		db:                   db,
		TChainInfo:           q.TChainInfo.clone(db),
		TDex:                 q.TDex.clone(db),
		TDexPool:             q.TDexPool.clone(db),
		TEventProcessedBlock: q.TEventProcessedBlock.clone(db),
		TFamousToken:         q.TFamousToken.clone(db),
		TGappedBlock:         q.TGappedBlock.clone(db),
		TKv:                  q.TKv.clone(db),
		TLaunchpad:           q.TLaunchpad.clone(db),
		TNodeInfo:            q.TNodeInfo.clone(db),
		TObjectTag:           q.TObjectTag.clone(db),
		TPool:                q.TPool.clone(db),
		TPoolStatic:          q.TPoolStatic.clone(db),
		TTag:                 q.TTag.clone(db),
		TToken:               q.TToken.clone(db),
		TTokenInfo:           q.TTokenInfo.clone(db),
		TTokenStale:          q.TTokenStale.clone(db),
		TTokenStatic:         q.TTokenStatic.clone(db),
		TTransfer:            q.TTransfer.clone(db),
		TUserAccount:         q.TUserAccount.clone(db),
		TUserAddress:         q.TUserAddress.clone(db),
	}
}

func (q *Query) ReadDB() *Query {
	return q.ReplaceDB(q.db.Clauses(dbresolver.Read))
}

func (q *Query) WriteDB() *Query {
	return q.ReplaceDB(q.db.Clauses(dbresolver.Write))
}

func (q *Query) ReplaceDB(db *gorm.DB) *Query {
	return &Query{
		db:                   db,
		TChainInfo:           q.TChainInfo.replaceDB(db),
		TDex:                 q.TDex.replaceDB(db),
		TDexPool:             q.TDexPool.replaceDB(db),
		TEventProcessedBlock: q.TEventProcessedBlock.replaceDB(db),
		TFamousToken:         q.TFamousToken.replaceDB(db),
		TGappedBlock:         q.TGappedBlock.replaceDB(db),
		TKv:                  q.TKv.replaceDB(db),
		TLaunchpad:           q.TLaunchpad.replaceDB(db),
		TNodeInfo:            q.TNodeInfo.replaceDB(db),
		TObjectTag:           q.TObjectTag.replaceDB(db),
		TPool:                q.TPool.replaceDB(db),
		TPoolStatic:          q.TPoolStatic.replaceDB(db),
		TTag:                 q.TTag.replaceDB(db),
		TToken:               q.TToken.replaceDB(db),
		TTokenInfo:           q.TTokenInfo.replaceDB(db),
		TTokenStale:          q.TTokenStale.replaceDB(db),
		TTokenStatic:         q.TTokenStatic.replaceDB(db),
		TTransfer:            q.TTransfer.replaceDB(db),
		TUserAccount:         q.TUserAccount.replaceDB(db),
		TUserAddress:         q.TUserAddress.replaceDB(db),
	}
}

type queryCtx struct {
	TChainInfo           ITChainInfoDo
	TDex                 ITDexDo
	TDexPool             ITDexPoolDo
	TEventProcessedBlock ITEventProcessedBlockDo
	TFamousToken         ITFamousTokenDo
	TGappedBlock         ITGappedBlockDo
	TKv                  ITKvDo
	TLaunchpad           ITLaunchpadDo
	TNodeInfo            ITNodeInfoDo
	TObjectTag           ITObjectTagDo
	TPool                ITPoolDo
	TPoolStatic          ITPoolStaticDo
	TTag                 ITTagDo
	TToken               ITTokenDo
	TTokenInfo           ITTokenInfoDo
	TTokenStale          ITTokenStaleDo
	TTokenStatic         ITTokenStaticDo
	TTransfer            ITTransferDo
	TUserAccount         ITUserAccountDo
	TUserAddress         ITUserAddressDo
}

func (q *Query) WithContext(ctx context.Context) *queryCtx {
	return &queryCtx{
		TChainInfo:           q.TChainInfo.WithContext(ctx),
		TDex:                 q.TDex.WithContext(ctx),
		TDexPool:             q.TDexPool.WithContext(ctx),
		TEventProcessedBlock: q.TEventProcessedBlock.WithContext(ctx),
		TFamousToken:         q.TFamousToken.WithContext(ctx),
		TGappedBlock:         q.TGappedBlock.WithContext(ctx),
		TKv:                  q.TKv.WithContext(ctx),
		TLaunchpad:           q.TLaunchpad.WithContext(ctx),
		TNodeInfo:            q.TNodeInfo.WithContext(ctx),
		TObjectTag:           q.TObjectTag.WithContext(ctx),
		TPool:                q.TPool.WithContext(ctx),
		TPoolStatic:          q.TPoolStatic.WithContext(ctx),
		TTag:                 q.TTag.WithContext(ctx),
		TToken:               q.TToken.WithContext(ctx),
		TTokenInfo:           q.TTokenInfo.WithContext(ctx),
		TTokenStale:          q.TTokenStale.WithContext(ctx),
		TTokenStatic:         q.TTokenStatic.WithContext(ctx),
		TTransfer:            q.TTransfer.WithContext(ctx),
		TUserAccount:         q.TUserAccount.WithContext(ctx),
		TUserAddress:         q.TUserAddress.WithContext(ctx),
	}
}

func (q *Query) Transaction(fc func(tx *Query) error, opts ...*sql.TxOptions) error {
	return q.db.Transaction(func(tx *gorm.DB) error { return fc(q.clone(tx)) }, opts...)
}

func (q *Query) Begin(opts ...*sql.TxOptions) *QueryTx {
	tx := q.db.Begin(opts...)
	return &QueryTx{Query: q.clone(tx), Error: tx.Error}
}

type QueryTx struct {
	*Query
	Error error
}

func (q *QueryTx) Commit() error {
	return q.db.Commit().Error
}

func (q *QueryTx) Rollback() error {
	return q.db.Rollback().Error
}

func (q *QueryTx) SavePoint(name string) error {
	return q.db.SavePoint(name).Error
}

func (q *QueryTx) RollbackTo(name string) error {
	return q.db.RollbackTo(name).Error
}
